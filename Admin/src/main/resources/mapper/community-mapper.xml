<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.community-mapper">
  <!-- 커뮤니티 게시글 리스트 -->
  <select id="getCommunityBoardList" resultType="CommunityVO" parameterType="hashmap">
    SELECT bno, id, nickname, subject, regdate, num
    FROM (SELECT bno, id, nickname, subject, regdate, rownum as num
          FROM (SELECT bno, id, nickname, subject, regdate
                FROM COMMUNITY
                order by bno desc))
    WHERE num BETWEEN #{start} AND #{end}
  </select>
  <!-- 게시글 상세 보기 -->
  <select id="getCommunityBoardDetail" resultType="CommunityVO" parameterType="hashmap">
    SELECT bno,
           id,
           nickname,
           subject,
           regdate,
           hit,
           type,
           reply,
           likes,
           content
    FROM COMMUNITY
    WHERE bno = #{id}
  </select>
  <!-- 게시글 삭제 -->
  <select id="communityBoardDelete" parameterType="string">
    delete
    from COMMUNITY
    where bno = #{id}
  </select>
</mapper>
